<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="mod/taskchain/db" VERSION="20150112" COMMENT="XMLDB file for Moodle mod/taskchain"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd"
>
  <TABLES>
    <TABLE NAME="taskchain" COMMENT="details of TaskChain activities" NEXT="taskchain_chains">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="course"/>
        <FIELD NAME="course" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="name" PREVIOUS="id"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="intro" PREVIOUS="course"/>
        <FIELD NAME="intro" TYPE="text" NOTNULL="false" SEQUENCE="false" COMMENT="not used, but required for Moodle 4.x" NEXT="introformat" PREVIOUS="name"/>
        <FIELD NAME="introformat" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="not used, but required for Moodle 4.x" NEXT="timecreated" PREVIOUS="intro"/>
        <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="timemodified" PREVIOUS="introformat"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="completionmingrade" PREVIOUS="timecreated"/>
        <FIELD NAME="completionmingrade" TYPE="number" LENGTH="6" NOTNULL="true" DEFAULT="0.00" SEQUENCE="false" DECIMALS="2" NEXT="completionpass" PREVIOUS="timemodified"/>
        <FIELD NAME="completionpass" TYPE="int" LENGTH="1" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="completioncompleted" PREVIOUS="completionmingrade"/>
        <FIELD NAME="completioncompleted" TYPE="int" LENGTH="1" NOTNULL="true" DEFAULT="0" SEQUENCE="false" PREVIOUS="completionpass"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="taskchain_chains" COMMENT="details of TaskChain chains" NEXT="taskchain_chain_grades" PREVIOUS="taskchain">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="parenttype"/>
        <FIELD NAME="parenttype" TYPE="int" LENGTH="2" NOTNULL="true" SEQUENCE="false" COMMENT="0 : taskchain : the “parentid” is an “id” in the “taskchain” table 1 : blocks : the “parentid” is an “id” in the “blocks_instance” table" NEXT="parentid" PREVIOUS="id"/>
        <FIELD NAME="parentid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the “id” of the parent record, in the “TaskChain” or “block_instance” tables, with which this record is associated" NEXT="entrycm" PREVIOUS="parenttype"/>
        <FIELD NAME="entrycm" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the course module activity that must be completed before this TaskChain can be attempted" NEXT="entrygrade" PREVIOUS="parentid"/>
        <FIELD NAME="entrygrade" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="100" SEQUENCE="false" COMMENT="the minimum grade required for entrycm" NEXT="entrypage" PREVIOUS="entrycm"/>
        <FIELD NAME="entrypage" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : no : an intro page will not be shown before the TaskChain chain is begun 1 : yes : an intro page will be shown before the TaskChain chain is begun" NEXT="entrytext" PREVIOUS="entrygrade"/>
        <FIELD NAME="entrytext" TYPE="text" NOTNULL="true" SEQUENCE="false" COMMENT="the text, if any, that is to appear on the intro page, which is shown before a TaskChain chain is begun" NEXT="entryformat" PREVIOUS="entrypage"/>
        <FIELD NAME="entryformat" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="format of the entrytext content" NEXT="entryoptions" PREVIOUS="entrytext"/>
        <FIELD NAME="entryoptions" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="switches to define which elements are shown on the entry page" NEXT="exitpage" PREVIOUS="entryformat"/>
        <FIELD NAME="exitpage" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="exittext" PREVIOUS="entryoptions"/>
        <FIELD NAME="exittext" TYPE="text" NOTNULL="true" SEQUENCE="false" COMMENT="text displayed on exit page" NEXT="exitformat" PREVIOUS="exitpage"/>
        <FIELD NAME="exitformat" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="format of the exittext content" NEXT="exitoptions" PREVIOUS="exittext"/>
        <FIELD NAME="exitoptions" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="switches to define which elements are shown on the exit page" NEXT="exitcm" PREVIOUS="exitformat"/>
        <FIELD NAME="exitcm" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the course module activity to be shown when this TaskChain is completed" NEXT="exitgrade" PREVIOUS="exitoptions"/>
        <FIELD NAME="exitgrade" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the minimum grade required to show link to exitcm" NEXT="showpopup" PREVIOUS="exitcm"/>
        <FIELD NAME="showpopup" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : no : the TaskChain chain will be shown in the Moodle window 1 : yes : the TaskChain chain will be shown in a new window" NEXT="popupoptions" PREVIOUS="exitgrade"/>
        <FIELD NAME="popupoptions" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="a comma-delimited list of attributes for the popup window, if any resizable=1,scrollbars=1,directories=1,location=1,menubar=1,toolbar=1,status=1,height=450,width=620" NEXT="timeopen" PREVIOUS="showpopup"/>
        <FIELD NAME="timeopen" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the day and time, as a UNIX date stamp, at which the chain becomes available to the students" NEXT="timeclose" PREVIOUS="popupoptions"/>
        <FIELD NAME="timeclose" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the day and time, as a UNIX date stamp, at which the chain ceases to be available to the students" NEXT="timelimit" PREVIOUS="timeopen"/>
        <FIELD NAME="timelimit" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the time, as a UNIX date stamp, within which a student must complete the chain" NEXT="delay1" PREVIOUS="timeclose"/>
        <FIELD NAME="delay1" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the minimum time delay, as a UNIX date stamp, between the first and second attempts" NEXT="delay2" PREVIOUS="timelimit"/>
        <FIELD NAME="delay2" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the minimum time delay, as a UNIX date stamp, between attempts after the second attempt" NEXT="password" PREVIOUS="delay1"/>
        <FIELD NAME="password" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="the password which must be entered by students before they can attempt the chain" NEXT="subnet" PREVIOUS="delay2"/>
        <FIELD NAME="subnet" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="a comma separated list of full or partial IP addresses that defines which computers can access the TaskChain chain" NEXT="allowresume" PREVIOUS="password"/>
        <FIELD NAME="allowresume" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="1" SEQUENCE="false" COMMENT="0 : no : attempts at this chain may not be resumed 1 : yes : attempts at this chain may be resumed" NEXT="allowfreeaccess" PREVIOUS="subnet"/>
        <FIELD NAME="allowfreeaccess" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="manualcompletion" PREVIOUS="allowresume"/>
        <FIELD NAME="manualcompletion" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="attemptlimit" PREVIOUS="allowfreeaccess"/>
        <FIELD NAME="attemptlimit" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : unlimited number of attempts are allowed &amp;gt;0 : the maximum number of times this chain may be attempted" NEXT="attemptgrademethod" PREVIOUS="manualcompletion"/>
        <FIELD NAME="attemptgrademethod" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="grademethod" PREVIOUS="attemptlimit"/>
        <FIELD NAME="grademethod" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="1" SEQUENCE="false" COMMENT="1 : highest : the score of the highest-scoring attempt at this chain by this user 2 : average : the average score of all attempts at this chain by this user 3 : first : the score of the first attempt at this chain by this user 4 : last : the score of the last attempt at this chain by this user" NEXT="gradeignore" PREVIOUS="attemptgrademethod"/>
        <FIELD NAME="gradeignore" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="gradelimit" PREVIOUS="grademethod"/>
        <FIELD NAME="gradelimit" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="100" SEQUENCE="false" COMMENT="the maximum grade for an attempt at this chain grades from attempts are assumed to be percentages and are scaled to this score" NEXT="gradeweighting" PREVIOUS="gradeignore"/>
        <FIELD NAME="gradeweighting" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="100" SEQUENCE="false" COMMENT="the weighting of the grade for this attempt at the chain toward the grade for TaskChain activity &amp;gt;0 : the weighting as a percentage 0 : no contribution -1 : equal : equal weighting as other attempts (at this TaskChain chain) with this setting" PREVIOUS="gradelimit"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_chains"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskchai_parpar_uix" UNIQUE="true" FIELDS="parenttype, parentid"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_chain_grades" COMMENT="details of TaskChain activity grades" NEXT="taskchain_chain_attempts" PREVIOUS="taskchain_chains">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="parenttype"/>
        <FIELD NAME="parenttype" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : taskchain : the “parentid” is an “id” in the “taskchain” table 1 : blocks : the “parentid” is an “id” in the “blocks_instance” table" NEXT="parentid" PREVIOUS="id"/>
        <FIELD NAME="parentid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the “id” of the parent record, in the “taskchain” or “block_instance” tables, with which this record is associated" NEXT="userid" PREVIOUS="parenttype"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the “id” of the “user” to which this grade is associated" NEXT="grade" PREVIOUS="parentid"/>
        <FIELD NAME="grade" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the grade for this user for this taskchain activity" NEXT="status" PREVIOUS="userid"/>
        <FIELD NAME="status" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the current status of this chain grade 1 : in progress : end of chain has not been reached 2 : timed out : never completed and no more time left 3 : abandoned : never completed and no more attempts left 4 : completed : end of chain has been reached at least once" NEXT="duration" PREVIOUS="grade"/>
        <FIELD NAME="duration" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the time this user has spent so far on this chain" NEXT="timemodified" PREVIOUS="status"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the time at which this record was last modified" PREVIOUS="duration"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_chain_grades" NEXT="taskchaigrad_use_ix"/>
        <KEY NAME="taskchaigrad_use_ix" TYPE="foreign" FIELDS="userid" REFTABLE="user" REFFIELDS="id" PREVIOUS="primary"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskchaigrad_parpar_ix" UNIQUE="false" FIELDS="parenttype, parentid"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_chain_attempts" COMMENT="details of the grades for attempts at TaskChain chains" NEXT="taskchain_tasks" PREVIOUS="taskchain_chain_grades">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" COMMENT="id of the table, please edit me" NEXT="chainid"/>
        <FIELD NAME="chainid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the “id” of the “taskchain_chains” record to which this grade is associated" NEXT="cnumber" PREVIOUS="id"/>
        <FIELD NAME="cnumber" TYPE="int" LENGTH="6" NOTNULL="true" SEQUENCE="false" COMMENT="the number of this attempt by this user at  this chain" NEXT="userid" PREVIOUS="chainid"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the “id” of the “user” to which this grade is associated" NEXT="grade" PREVIOUS="cnumber"/>
        <FIELD NAME="grade" TYPE="int" LENGTH="6" NOTNULL="true" SEQUENCE="false" COMMENT="the grade for this user for this attempt at a taskchain chain" NEXT="status" PREVIOUS="userid"/>
        <FIELD NAME="status" TYPE="int" LENGTH="4" NOTNULL="true" SEQUENCE="false" COMMENT="the current status of the grade of this attempt at the chain 1 : in progress : end of chain has not been reached 2 : timed out : never completed and no more time left 3 : abandoned : never completed and no more attempts left 4 : completed : end of chain has been reached at least once" NEXT="duration" PREVIOUS="grade"/>
        <FIELD NAME="duration" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the time this user has spent so far on this attempt at this chain" NEXT="timemodified" PREVIOUS="status"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the time at which this record was last modified" PREVIOUS="duration"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="primary key of the table, please edit me" NEXT="taskchaiatte_cha_ix"/>
        <KEY NAME="taskchaiatte_cha_ix" TYPE="foreign" FIELDS="chainid" REFTABLE="taskchain_chains" REFFIELDS="id" NEXT="taskchaiatte_use_ix" PREVIOUS="primary"/>
        <KEY NAME="taskchaiatte_use_ix" TYPE="foreign" FIELDS="userid" REFTABLE="user" REFFIELDS="id" PREVIOUS="taskchaiatte_cha_ix"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskchaiatte_usechacnu_uix" UNIQUE="true" FIELDS="userid, chainid, cnumber"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_tasks" COMMENT="details of TaskChain tasks" NEXT="taskchain_task_scores" PREVIOUS="taskchain_chain_attempts">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="chainid"/>
        <FIELD NAME="chainid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the “id” of the “taskchain_chains” record to which this TaskChain task is associated" NEXT="name" PREVIOUS="id"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="sourcefile" PREVIOUS="chainid"/>
        <FIELD NAME="sourcefile" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="either the URL or file path (within the Files folder) of the source file for this task" NEXT="sourcetype" PREVIOUS="name"/>
        <FIELD NAME="sourcetype" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="the type of the sourcefile file either html or the name of the task creator software" NEXT="sourcelocation" PREVIOUS="sourcefile"/>
        <FIELD NAME="sourcelocation" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="configfile" PREVIOUS="sourcetype"/>
        <FIELD NAME="configfile" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="configlocation" PREVIOUS="sourcelocation"/>
        <FIELD NAME="configlocation" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="outputformat" PREVIOUS="configfile"/>
        <FIELD NAME="outputformat" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="the required output format for this task" NEXT="navigation" PREVIOUS="configlocation"/>
        <FIELD NAME="navigation" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the navigation used for tasks in this TaskChain chain 1 : bar : Moodle navigation bar 2 : frame : Moodle navigation frame 3 : iframe : embedded IFRAME 4 : original : task’s original navigation 5 : giveup : a single “Give Up” button 6 : none" NEXT="title" PREVIOUS="outputformat"/>
        <FIELD NAME="title" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="3" SEQUENCE="false" NEXT="titletext" PREVIOUS="navigation"/>
        <FIELD NAME="titletext" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="stopbutton" PREVIOUS="title"/>
        <FIELD NAME="stopbutton" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="stoptext" PREVIOUS="titletext"/>
        <FIELD NAME="stoptext" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="allowpaste" PREVIOUS="stopbutton"/>
        <FIELD NAME="allowpaste" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="usefilters" PREVIOUS="stoptext"/>
        <FIELD NAME="usefilters" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="useglossary" PREVIOUS="allowpaste"/>
        <FIELD NAME="useglossary" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="usemediafilter" PREVIOUS="usefilters"/>
        <FIELD NAME="usemediafilter" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="studentfeedback" PREVIOUS="useglossary"/>
        <FIELD NAME="studentfeedback" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="studentfeedbackurl" PREVIOUS="usemediafilter"/>
        <FIELD NAME="studentfeedbackurl" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="timeopen" PREVIOUS="studentfeedback"/>
        <FIELD NAME="timeopen" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="timeclose" PREVIOUS="studentfeedbackurl"/>
        <FIELD NAME="timeclose" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="timelimit" PREVIOUS="timeopen"/>
        <FIELD NAME="timelimit" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="-1" SEQUENCE="false" NEXT="delay1" PREVIOUS="timeclose"/>
        <FIELD NAME="delay1" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="delay2" PREVIOUS="timelimit"/>
        <FIELD NAME="delay2" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="delay3" PREVIOUS="delay1"/>
        <FIELD NAME="delay3" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="2" SEQUENCE="false" NEXT="password" PREVIOUS="delay2"/>
        <FIELD NAME="password" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="subnet" PREVIOUS="delay3"/>
        <FIELD NAME="subnet" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="allowresume" PREVIOUS="password"/>
        <FIELD NAME="allowresume" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="reviewoptions" PREVIOUS="subnet"/>
        <FIELD NAME="reviewoptions" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" NEXT="attemptlimit" PREVIOUS="allowresume"/>
        <FIELD NAME="attemptlimit" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="scoremethod" PREVIOUS="reviewoptions"/>
        <FIELD NAME="scoremethod" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="1" SEQUENCE="false" COMMENT="1 : highest : the score of the highest-scoring attempt at this task by this user 2 : average : the average score of all attempts at this task by this user 3 : first : the score of the first attempt at this task by this user 4 : last : the score of the last attempt at this task by this user" NEXT="scoreignore" PREVIOUS="attemptlimit"/>
        <FIELD NAME="scoreignore" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="scorelimit" PREVIOUS="scoremethod"/>
        <FIELD NAME="scorelimit" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="100" SEQUENCE="false" COMMENT="the maximum score for this task scores from tasks are assumed to be percentages and are scaled to this score" NEXT="scoreweighting" PREVIOUS="scoreignore"/>
        <FIELD NAME="scoreweighting" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="-1" SEQUENCE="false" COMMENT="the weighting of this task score toward the grade for this attempt at the chain &amp;gt;0 : the weighting as a percentage 0 : no contribution -1 : equal : equal weighting as other tasks (in this TaskChain chain) with this setting" NEXT="sortorder" PREVIOUS="scorelimit"/>
        <FIELD NAME="sortorder" TYPE="int" LENGTH="6" NOTNULL="true" SEQUENCE="false" NEXT="clickreporting" PREVIOUS="scoreweighting"/>
        <FIELD NAME="clickreporting" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="discarddetails" PREVIOUS="sortorder"/>
        <FIELD NAME="discarddetails" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" PREVIOUS="clickreporting"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_tasks" NEXT="tasktask_cha_ix"/>
        <KEY NAME="tasktask_cha_ix" TYPE="foreign" FIELDS="chainid" REFTABLE="taskchain_chains" REFFIELDS="id" PREVIOUS="primary"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="tasktask_sousou_ix" UNIQUE="false" FIELDS="sourcelocation, sourcefile"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_task_scores" COMMENT="details of TaskChain task scores" NEXT="taskchain_task_attempts" PREVIOUS="taskchain_tasks">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="taskid"/>
        <FIELD NAME="taskid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" NEXT="cnumber" PREVIOUS="id"/>
        <FIELD NAME="cnumber" TYPE="int" LENGTH="6" NOTNULL="true" SEQUENCE="false" NEXT="userid" PREVIOUS="taskid"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" NEXT="score" PREVIOUS="cnumber"/>
        <FIELD NAME="score" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="status" PREVIOUS="userid"/>
        <FIELD NAME="status" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="duration" PREVIOUS="score"/>
        <FIELD NAME="duration" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" NEXT="timemodified" PREVIOUS="status"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" PREVIOUS="duration"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_responses" NEXT="tasktaskscor_tas_ix"/>
        <KEY NAME="tasktaskscor_tas_ix" TYPE="foreign" FIELDS="taskid" REFTABLE="taskchain_tasks" REFFIELDS="id" NEXT="tasktaskscor_use_ix" PREVIOUS="primary"/>
        <KEY NAME="tasktaskscor_use_ix" TYPE="foreign" FIELDS="userid" REFTABLE="user" REFFIELDS="id" PREVIOUS="tasktaskscor_tas_ix"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="tasktaskscor_tasusecnu_uix" UNIQUE="true" FIELDS="taskid, userid, cnumber" NEXT="tasktaskscor_tasuse_ix"/>
        <INDEX NAME="tasktaskscor_tasuse_ix" UNIQUE="false" FIELDS="taskid, userid" PREVIOUS="tasktaskscor_tasusecnu_uix"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_task_attempts" COMMENT="details of TaskChain task attempts" NEXT="taskchain_cache" PREVIOUS="taskchain_task_scores">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="taskid"/>
        <FIELD NAME="taskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="userid" PREVIOUS="id"/>
        <FIELD NAME="userid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="cnumber" PREVIOUS="taskid"/>
        <FIELD NAME="cnumber" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the number of this attempt by this user at this chain" NEXT="tnumber" PREVIOUS="userid"/>
        <FIELD NAME="tnumber" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the number of this attempt by this user at this task within this attempt at this chain" NEXT="status" PREVIOUS="cnumber"/>
        <FIELD NAME="status" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="1" SEQUENCE="false" COMMENT="the current status of this attempt 1 : in progress 2 : timed out 3 : abandoned 4 : completed Note that a TaskChain task is only considered completed when a correct answer has been found for ALL questions" NEXT="penalties" PREVIOUS="tnumber"/>
        <FIELD NAME="penalties" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the number of penalty points that this user picked on this attempt at the task" NEXT="score" PREVIOUS="status"/>
        <FIELD NAME="score" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the score for this attempt (so far)" NEXT="duration" PREVIOUS="penalties"/>
        <FIELD NAME="duration" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="starttime" PREVIOUS="score"/>
        <FIELD NAME="starttime" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="start time as recorded by the client" NEXT="endtime" PREVIOUS="duration"/>
        <FIELD NAME="endtime" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="End time recorded by the client" NEXT="resumestart" PREVIOUS="starttime"/>
        <FIELD NAME="resumestart" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the most recent time at which this attempt at this task was resumd" NEXT="resumefinish" PREVIOUS="endtime"/>
        <FIELD NAME="resumefinish" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the most recent time at which a resumed attempt was finished" NEXT="timestart" PREVIOUS="resumestart"/>
        <FIELD NAME="timestart" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the time, according to the server, that this attempt started" NEXT="timefinish" PREVIOUS="resumefinish"/>
        <FIELD NAME="timefinish" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the time, according to the server, that this attempt finished" NEXT="clickreportid" PREVIOUS="timestart"/>
        <FIELD NAME="clickreportid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the attemptid of the first attempt in this click report chain" PREVIOUS="timefinish"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_task_attempts" NEXT="tasktaskatte_tas_ix"/>
        <KEY NAME="tasktaskatte_tas_ix" TYPE="foreign" FIELDS="taskid" REFTABLE="taskchain_tasks" REFFIELDS="id" NEXT="tasktaskatte_use_ix" PREVIOUS="primary"/>
        <KEY NAME="tasktaskatte_use_ix" TYPE="foreign" FIELDS="userid" REFTABLE="user" REFFIELDS="id" PREVIOUS="tasktaskatte_tas_ix"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="tasktaskatte_cli_ix" UNIQUE="false" FIELDS="clickreportid" NEXT="tasktaskatte_tasusecnu_ix"/>
        <INDEX NAME="tasktaskatte_tasusecnu_ix" UNIQUE="false" FIELDS="taskid, userid, cnumber" PREVIOUS="tasktaskatte_cli_ix"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_cache" COMMENT="cache for TaskChain tasks" NEXT="taskchain_conditions" PREVIOUS="taskchain_task_attempts">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="taskid"/>
        <FIELD NAME="taskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the &quot;id&quot; of the &quot;taskchain_tasks&quot; record to which this cached content is associated" NEXT="slasharguments" PREVIOUS="id"/>
        <FIELD NAME="slasharguments" TYPE="char" LENGTH="1" NOTNULL="true" SEQUENCE="false" COMMENT="Moodle's $CFG-&amp;gt;slasharguments setting at the time the cached content was created" NEXT="taskchain_bodystyles" PREVIOUS="taskid"/>
        <FIELD NAME="taskchain_bodystyles" TYPE="char" LENGTH="8" NOTNULL="true" SEQUENCE="false" COMMENT="Moodle's $CFG-&amp;gt;taskchain_bodystyles setting at the time the cached content was created" NEXT="taskchain_enableobfuscate" PREVIOUS="slasharguments"/>
        <FIELD NAME="taskchain_enableobfuscate" TYPE="char" LENGTH="1" NOTNULL="true" SEQUENCE="false" NEXT="taskchain_enableswf" PREVIOUS="taskchain_bodystyles"/>
        <FIELD NAME="taskchain_enableswf" TYPE="char" LENGTH="1" NOTNULL="true" SEQUENCE="false" NEXT="name" PREVIOUS="taskchain_enableobfuscate"/>
        <FIELD NAME="name" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="task name at the time the cache was created" NEXT="sourcefile" PREVIOUS="taskchain_enableswf"/>
        <FIELD NAME="sourcefile" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="the task's &quot;reference&quot; setting at the time the cached content was created" NEXT="sourcetype" PREVIOUS="name"/>
        <FIELD NAME="sourcetype" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="sourcelocation" PREVIOUS="sourcefile"/>
        <FIELD NAME="sourcelocation" TYPE="int" LENGTH="2" NOTNULL="true" SEQUENCE="false" NEXT="sourcerepositoryid" PREVIOUS="sourcetype"/>
        <FIELD NAME="sourcerepositoryid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="sourcelastmodified" PREVIOUS="sourcelocation"/>
        <FIELD NAME="sourcelastmodified" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="sourceetag" PREVIOUS="sourcerepositoryid"/>
        <FIELD NAME="sourceetag" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="configfile" PREVIOUS="sourcelastmodified"/>
        <FIELD NAME="configfile" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="configlocation" PREVIOUS="sourceetag"/>
        <FIELD NAME="configlocation" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="configrepositoryid" PREVIOUS="configfile"/>
        <FIELD NAME="configrepositoryid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="configlastmodified" PREVIOUS="configlocation"/>
        <FIELD NAME="configlastmodified" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="configetag" PREVIOUS="configrepositoryid"/>
        <FIELD NAME="configetag" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="navigation" PREVIOUS="configlastmodified"/>
        <FIELD NAME="navigation" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the task's &quot;navigation&quot; setting when the cached content was created" NEXT="title" PREVIOUS="configetag"/>
        <FIELD NAME="title" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="stopbutton" PREVIOUS="navigation"/>
        <FIELD NAME="stopbutton" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="stoptext" PREVIOUS="title"/>
        <FIELD NAME="stoptext" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="allowpaste" PREVIOUS="stopbutton"/>
        <FIELD NAME="allowpaste" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="usefilters" PREVIOUS="stoptext"/>
        <FIELD NAME="usefilters" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the task's &quot;usefilters&quot; setting when the cached content was created" NEXT="useglossary" PREVIOUS="allowpaste"/>
        <FIELD NAME="useglossary" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the task's &quot;useglossary&quot; setting when the cached content was created" NEXT="usemediafilter" PREVIOUS="usefilters"/>
        <FIELD NAME="usemediafilter" TYPE="char" LENGTH="255" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the task's &quot;usemediafilter&quot; setting when the cached content was created" NEXT="studentfeedback" PREVIOUS="useglossary"/>
        <FIELD NAME="studentfeedback" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the task's &quot;studentfeedback&quot; setting when the cached content was created" NEXT="studentfeedbackurl" PREVIOUS="usemediafilter"/>
        <FIELD NAME="studentfeedbackurl" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" COMMENT="the task's &quot;outputformaturl&quot; setting when the cached content was created" NEXT="timelimit" PREVIOUS="studentfeedback"/>
        <FIELD NAME="timelimit" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="-1" SEQUENCE="false" NEXT="delay3" PREVIOUS="studentfeedbackurl"/>
        <FIELD NAME="delay3" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="-1" SEQUENCE="false" NEXT="clickreporting" PREVIOUS="timelimit"/>
        <FIELD NAME="clickreporting" TYPE="int" LENGTH="2" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="content" PREVIOUS="delay3"/>
        <FIELD NAME="content" TYPE="text" NOTNULL="true" SEQUENCE="false" COMMENT="the cached content for this task - base64_encode(serialize($content))" NEXT="timemodified" PREVIOUS="clickreporting"/>
        <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="false" COMMENT="the time at which this record was last modified" NEXT="md5key" PREVIOUS="content"/>
        <FIELD NAME="md5key" TYPE="char" LENGTH="32" NOTNULL="true" SEQUENCE="false" COMMENT="md5 (wwwroot + currenttheme + navigation)" PREVIOUS="timemodified"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_cache" NEXT="taskcach_tas_ix"/>
        <KEY NAME="taskcach_tas_ix" TYPE="foreign" FIELDS="taskid" REFTABLE="taskchain_tasks" REFFIELDS="id" PREVIOUS="primary"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskcach_tasmd5_ix" UNIQUE="false" FIELDS="taskid, md5key" COMMENT="taskid + md5(wwwroot + currenttheme + navigation)"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_conditions" COMMENT="details of TaskChain conditions" NEXT="taskchain_details" PREVIOUS="taskchain_cache">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="taskid"/>
        <FIELD NAME="taskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the “id” of the “taskchain_tasks” record to which this condition is associated" NEXT="groupid" PREVIOUS="id"/>
        <FIELD NAME="groupid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="id of group, if any, to which these conditions apply" NEXT="conditiontype" PREVIOUS="taskid"/>
        <FIELD NAME="conditiontype" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : precondition: a condition that must be satisfied before a student can access this task 1 : postcondition : a condition that defines what happens after a student finishes this task" NEXT="conditionscore" PREVIOUS="groupid"/>
        <FIELD NAME="conditionscore" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the minimum score at which this condition is satisfied" NEXT="conditiontaskid" PREVIOUS="conditiontype"/>
        <FIELD NAME="conditiontaskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the “id” of the “taskchain_tasks” record to which this condition refers &amp;gt;0 : a specific TaskChain task -1 : next : the next TaskChain task, if any, in this TaskChain chain according to “sortorder” -2 : previous : the previous TaskChain task, if any, in this TaskChain chain according to “sortorder” -3 : unseen : an unseen TaskChain task (i.e. no attempts) -4 : unanswered : an unanswered TaskChain task (i.e. no responses)  -5 : incorrect : an incorrectly answered TaskChain task (i.e. score" NEXT="sortorder" PREVIOUS="conditionscore"/>
        <FIELD NAME="sortorder" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="attempttype" PREVIOUS="conditiontaskid"/>
        <FIELD NAME="attempttype" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : any : any attempt(s)  1 : recent : the most recent attempt(s) 2 : consecutive : any block of consecutive attempts" NEXT="attemptcount" PREVIOUS="sortorder"/>
        <FIELD NAME="attemptcount" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the number of attempts which must satisfy the score condition" NEXT="attemptduration" PREVIOUS="attempttype"/>
        <FIELD NAME="attemptduration" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="0 : no time limit &amp;gt;0 : the total time limit for the attempts which satisfy the score condition" NEXT="attemptdelay" PREVIOUS="attemptcount"/>
        <FIELD NAME="attemptdelay" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="nexttaskid" PREVIOUS="attemptduration"/>
        <FIELD NAME="nexttaskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" PREVIOUS="attemptdelay"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_conditions" NEXT="taskcond_tas_ix"/>
        <KEY NAME="taskcond_tas_ix" TYPE="foreign" FIELDS="taskid" REFTABLE="taskchain_tasks" REFFIELDS="id" NEXT="taskcond_gro_ix" PREVIOUS="primary"/>
        <KEY NAME="taskcond_gro_ix" TYPE="foreign" FIELDS="groupid" REFTABLE="groups" REFFIELDS="id" PREVIOUS="taskcond_tas_ix"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskcond_tascongro_ix" UNIQUE="false" FIELDS="taskid, conditiontype, groupid"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_details" COMMENT="raw details (as XML) of TaskChain task attempts" NEXT="taskchain_questions" PREVIOUS="taskchain_conditions">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="attemptid"/>
        <FIELD NAME="attemptid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="details" PREVIOUS="id"/>
        <FIELD NAME="details" TYPE="text" NOTNULL="true" SEQUENCE="false" COMMENT="the raw XML returned from the browser regarding the attempt at a task" PREVIOUS="attemptid"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_details" NEXT="taskdeta_att_ix"/>
        <KEY NAME="taskdeta_att_ix" TYPE="foreign" FIELDS="attemptid" REFTABLE="taskchain_task_attempts" REFFIELDS="id" PREVIOUS="primary"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="taskchain_questions" COMMENT="details of questions used in TaskChain tasks" NEXT="taskchain_responses" PREVIOUS="taskchain_details">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="taskid"/>
        <FIELD NAME="taskid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="name" PREVIOUS="id"/>
        <FIELD NAME="name" TYPE="text" NOTNULL="true" SEQUENCE="false" COMMENT="a unique name for this question. If the “text”field is empty then this field is displayed as the question to the user" NEXT="md5key" PREVIOUS="taskid"/>
        <FIELD NAME="md5key" TYPE="char" LENGTH="32" NOTNULL="true" SEQUENCE="false" NEXT="type" PREVIOUS="name"/>
        <FIELD NAME="type" TYPE="int" LENGTH="4" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the type of this question.  This field can be whatever is useful to the PHP class for this task type. Questions for TaskChain tasks are given the following values: 1 : JBC 2 : JCloze 3 : JCross 4 : JMatch 5 : JMix 6 : JTask 7 : Rhubarb (TexToys) 8 : Sequitur (TexToys)" NEXT="text" PREVIOUS="md5key"/>
        <FIELD NAME="text" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" COMMENT="the “id” of the “taskchain_strings” record which holds text of the question this field is used in preference to the “name” field when displaying a question" PREVIOUS="type"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_questions" NEXT="taskques_tas_ix"/>
        <KEY NAME="taskques_tas_ix" TYPE="foreign" FIELDS="taskid" REFTABLE="taskchain_tasks" REFFIELDS="id" PREVIOUS="primary"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskques_tasmd5_ix" UNIQUE="false" FIELDS="taskid, md5key"/>
      </INDEXES>
    </TABLE>
    <TABLE NAME="taskchain_responses" COMMENT="details of responses in TaskChain task attempts" NEXT="taskchain_strings" PREVIOUS="taskchain_questions">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="attemptid"/>
        <FIELD NAME="attemptid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="questionid" PREVIOUS="id"/>
        <FIELD NAME="questionid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="score" PREVIOUS="attemptid"/>
        <FIELD NAME="score" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="weighting" PREVIOUS="questionid"/>
        <FIELD NAME="weighting" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="hints" PREVIOUS="score"/>
        <FIELD NAME="hints" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="clues" PREVIOUS="weighting"/>
        <FIELD NAME="clues" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="checks" PREVIOUS="hints"/>
        <FIELD NAME="checks" TYPE="int" LENGTH="6" NOTNULL="true" DEFAULT="0" SEQUENCE="false" NEXT="correct" PREVIOUS="clues"/>
        <FIELD NAME="correct" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="wrong" PREVIOUS="checks"/>
        <FIELD NAME="wrong" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" NEXT="ignored" PREVIOUS="correct"/>
        <FIELD NAME="ignored" TYPE="char" LENGTH="255" NOTNULL="true" SEQUENCE="false" PREVIOUS="wrong"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_responses" NEXT="taskresp_att_ix"/>
        <KEY NAME="taskresp_att_ix" TYPE="foreign" FIELDS="attemptid" REFTABLE="taskchain_task_attempts" REFFIELDS="id" NEXT="taskresp_que_ix" PREVIOUS="primary"/>
        <KEY NAME="taskresp_que_ix" TYPE="foreign" FIELDS="questionid" REFTABLE="taskchain_questions" REFFIELDS="id" PREVIOUS="taskresp_att_ix"/>
      </KEYS>
    </TABLE>
    <TABLE NAME="taskchain_strings" COMMENT="strings used in TaskChain questions and responses" PREVIOUS="taskchain_responses">
      <FIELDS>
        <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true" NEXT="string"/>
        <FIELD NAME="string" TYPE="text" NOTNULL="true" SEQUENCE="false" NEXT="md5key" PREVIOUS="id"/>
        <FIELD NAME="md5key" TYPE="char" LENGTH="32" NOTNULL="true" SEQUENCE="false" PREVIOUS="string"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id" COMMENT="Primary key for taskchain_strings"/>
      </KEYS>
      <INDEXES>
        <INDEX NAME="taskstri_md5_ix" UNIQUE="false" FIELDS="md5key"/>
      </INDEXES>
    </TABLE>
  </TABLES>
</XMLDB>